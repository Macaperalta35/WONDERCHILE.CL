<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agregar Promoción - WonderChile</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <header>
        <div class="header-left">
            <h1>WonderChile</h1>
            <p>Descubre la magia de Chile y el mundo</p>
        </div>
        <div class="header-right">
            {% if session.user_id %}
                {% if user_name %}
                    <span>Bienvenido, {{ user_name }}</span>
                {% endif %}
                <a href="/admin">Panel de Administración</a>
                <a href="/logout">Cerrar Sesión</a>
            {% endif %}
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="/">Inicio</a></li>
            <li><a href="/paquetes">Paquetes Turísticos</a></li>
            <li><a href="/giras">Giras de Estudio</a></li>
            <li><a href="/mujeres">Viajes Solo Mujeres</a></li>
            <li><a href="/contacto">Viaje a Medida</a></li>
        </ul>
    </nav>

    <main>
        <section class="section">
            <h2>Agregar Nueva Promoción</h2>
            <form method="POST" enctype="multipart/form-data">
                <div>
                    <label for="titulo">Título:</label>
                    <input type="text" id="titulo" name="titulo" required>
                </div>
                <div>
                    <label for="descripcion">Descripción:</label>
                    <textarea id="descripcion" name="descripcion" required></textarea>
                </div>
                <div>
                    <label for="descuento">Descuento (%):</label>
                    <input type="number" id="descuento" name="descuento" step="0.01" min="0" max="100" required>
                </div>
                <div>
                    <label for="imagen_opcion">Opción de Imagen:</label>
                    <select id="imagen_opcion" name="imagen_opcion" onchange="toggleImageInput()">
                        <option value="url">URL de Imagen</option>
                        <option value="upload">Subir Archivo</option>
                    </select>
                </div>
                <div id="url_input">
                    <label for="imagen">URL de Imagen (opcional):</label>
                    <input type="url" id="imagen" name="imagen" placeholder="https://ejemplo.com/imagen.jpg">
                </div>
                <div id="file_input" style="display: none;">
                    <label for="imagen_file">Subir Imagen (opcional):</label>
                    <input type="file" id="imagen_file" name="imagen_file" accept="image/*">
                </div>
                <button type="submit" class="btn">Agregar Promoción</button>
                <a href="/admin/promociones" class="btn">Cancelar</a>
            </form>

            <script>
                function toggleImageInput() {
                    const opcion = document.getElementById('imagen_opcion').value;
                    const urlInput = document.getElementById('url_input');
                    const fileInput = document.getElementById('file_input');

                    if (opcion === 'url') {
                        urlInput.style.display = 'block';
                        fileInput.style.display = 'none';
                    } else {
                        urlInput.style.display = 'none';
                        fileInput.style.display = 'block';
                    }
                }
            </script>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Grupowonderchile</h3>
                <p>Agencia de viajes especializada en experiencias grupales, planificación personalizada y giras de estudio inolvidables.</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2025 Grupowonderchile. Todos los derechos reservados.</p>
        </div>
    </footer>
</body>
</html>
